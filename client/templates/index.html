{% extends 'base.html' %}
{% block content %}

<!-- ✅ Carousel Section -->
<div class="carousel relative w-full overflow-hidden mb-8 rounded-lg shadow-lg">
    <div class="slides flex transition-transform duration-700">
        <img src="{{ url_for('static', filename='images/carousel1.jpg') }}" class="w-full h-48 object-cover" alt="Carousel Image 1">
        <img src="{{ url_for('static', filename='images/carousel2.jpg') }}" class="w-full h-48 object-cover" alt="Carousel Image 2">
        <img src="{{ url_for('static', filename='images/carousel3.jpg') }}" class="w-full h-48 object-cover" alt="Carousel Image 3">
    </div>
</div>
<script>
    let index = 0;
    const slides = document.querySelector('.slides');
    setInterval(() => {
        index = (index + 1) % 3;
        slides.style.transform = `translateX(-${index * 100}%)`;
    }, 3000);
</script>

<!-- ✅ Posts Section -->
<h1 class="text-3xl font-semibold mb-6">Latest Posts</h1>
<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
    {% for post in posts %}
    <article class="bg-white rounded-lg shadow-md overflow-hidden">
        {% if post.image %}
        <img src="{{ url_for('static', filename='images/' ~ post.image) }}" class="w-full h-48 object-cover" alt="{{ post.title }}">
        <div class="p-4">
            <h2 class="text-xl font-semibold mb-2 hover:text-green-900">
                <a href="{{ url_for('post_detail', post_id=post.id) }}" class="text-blue-500 hover:underline">Read More</a>
            </h2>
            <p class="text-gray-500 text-sm mb-2">By {{ post.author.username }}</p>
            <p class="text-gray-700">{{ post.content[:120] }}...</p>
        </div>
    </article>
    {% else %}
    <p class="text-gray-600">No posts yet. Check back soon!</p>
    {% endfor %}
</div>

{% endblock %}